# Platform Contract

This document defines the stability guarantees and data flow of the MCP Tool Registry.

## Canonical vs. Generated Data

### Canonical Source of Truth

These files are the definitive source of truth. Changes here require a version bump and pull request review.

- **`registry.json`**: The complete list of tools and their primary metadata.
- **`schema/`**: JSON Schemas defining the structure of `registry.json` and bundles.
- **`policies/`**: Governance rules (e.g., restricted fields, forbidden patterns).

### Generated Artifacts (Read-Only)

These files are deterministically generated from the canonical source. **Do not edit these manually.**

- **`dist/registry.index.json`**: Optimized search index (includes derived fields like bundle membership).
- **`dist/registry.report.json`**: Health metrics and statistics.
- **`dist/derived.meta.json`**: Build metadata (version, hash, timestamps).
- **`bundles/*.json`**: Specialized groupings of tools (e.g., `core`, `agents`), generated by `scripts/build-bundles.mjs`.
- **`site/`**: The static explorer website.

## Stability Guarantees

1.  **Tool IDs**: Once published, a tool ID (`id`) is immutable. Renaming requires deprecation and a new entry.
2.  **Schema Versioning**: We follow semantic versioning for the registry schema.
3.  **Bundle Membership**: Membership is dynamic and rule-based. A tool may enter or leave a bundle based on its properties without manual intervention.

## Consumption Guidelines

- **For Tools/Agents**: Consume `dist/registry.index.json` or specific `bundles/*.json`.
- **For Analytics**: Consume `dist/registry.report.json` or `dist/derived.meta.json`.
- **For Humans**: Use the Main README or the [Explorer Site](https://mcp-tool-shop-org.github.io/mcp-tool-registry/).
